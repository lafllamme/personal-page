<script lang="ts" setup>
import Spline from '@/components/ui/Background/Spline/Spline.vue'
import Marquee from '@/components/ui/Marquee/Marquee.vue'
import ReviewCard from '@/components/ui/ReviewCard/ReviewCard.vue'

const sceneUrl = 'https://prod.spline.design/kZDDjO5HuC9GJUM2/scene.splinecode'

// Reviews data
const reviews = [
  {
    name: 'Liam',
    username: '@liam_smith',
    body: 'This is hands down the best Iâ€™ve usedâ€”itâ€™s amazing! Made me smile. ðŸ˜„',
    img: 'https://avatar.vercel.sh/liam',
  },
  {
    name: 'Emma',
    username: '@hey_emma',
    body: 'So impressedâ€”everything went perfectly! Totally perfect ðŸ˜Š.',
    img: 'https://avatar.vercel.sh/emma',
  },
  {
    name: 'Gabby',
    username: '@gabby_labs',
    body: 'Speechlessâ€”this made me grin!!! Feels just right ðŸ™‚.',
    img: 'https://avatar.vercel.sh/noah',
  },
  {
    name: 'Maya',
    username: '@maya_ros',
    body: 'So refreshingâ€”clean, crisp, and just what I needed!!!',
    img: 'https://avatar.vercel.sh/maya',
  },
  {
    name: 'Sarah',
    username: '@sarah_lee',
    body: 'To be honest, didnâ€™t expect this to be so good. Truly happy ðŸ™‚',
    img: 'https://avatar.vercel.sh/sarah',
  },
  {
    name: 'David',
    username: '@david_vibes',
    body: 'Really solidâ€”sleek and exactly what was promised. Gave joy!?',
    img: 'https://avatar.vercel.sh/david',
  },
]

// Split reviews into two rows
const firstRow = ref(reviews.slice(0, reviews.length / 2))
const secondRow = ref(reviews.slice(reviews.length / 2))
const firstLen = ref(firstRow.value.length - 1)
const secondLen = ref(secondRow.value.length - 1)
</script>

<template>
  <div
    class="w-full flex flex-col items-center justify-center overflow-hidden rounded-lg bg-pureWhite h-svh dark:bg-pureBlack md:shadow-xl"
  >
    <div class="bg-black/[0.96] relative w-full overflow-hidden rounded-lg">
      <div
        class="font-heading text-white absolute w-full flex flex-col items-center justify-center gap-2 p-8 text-center"
      >
        <span class="text-4xl font-semibold"> Inspira UI </span>
        <span class="font-light font-sans">Build spline animations with style.</span>
      </div>
      <div class="flex">
        <Spline
          :scene="sceneUrl"
          class="mt-24 size-full"
        />
      </div>
      <!-- First Marquee -->
      <Marquee
        class="![--duration:20s]"
        pause-on-hover
      >
        <ReviewCard
          v-for="(review, idx) in firstRow"
          :key="review.username"
          :body="review.body"
          :img="review.img"
          :index="idx"
          :max="firstLen"
          :name="review.name"
          :username="review.username"
        />
      </Marquee>

      <!-- Second Marquee (reverse) -->
      <Marquee
        class="![--duration:20s]"
        pause-on-hover
        reverse
      >
        <ReviewCard
          v-for="(review, idx) in secondRow"
          :key="review.username"
          :body="review.body"
          :img="review.img"
          :index="idx"
          :max="secondLen"
          :name="review.name"
          :username="review.username"
        />
      </Marquee>

      <!-- Left Gradient -->
      <div
        class="pointer-events-none absolute inset-y-0 left-0 w-1/3 from-gray-2 bg-gradient-to-r"
      />

      <!-- Right Gradient -->
      <div
        class="pointer-events-none absolute inset-y-0 right-0 w-1/3 from-gray-2 bg-gradient-to-l"
      />
    </div>
  </div>
</template>
